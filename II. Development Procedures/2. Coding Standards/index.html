<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Cerberus-Sandbox Team">
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>2. Coding Standards - Cerberus Sandbox</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "2. Coding Standards";
    var mkdocs_page_input_path = "II. Development Procedures/2. Coding Standards.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Cerberus Sandbox</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">I. Overview</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../I.%20Overview/1.%20What%20is%20Cerberus-Sandbox%20%3F/">1. What is Cerberus Sandbox ?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../I.%20Overview/2.%20How%20it%20works%20%3F/">2. How it works ?</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">II. Development Procedures</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../1.%20Updating%20the%20docs/">1. Updating the docs</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">2. Coding Standards</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../3.%20Git%20Workflow/">3. Git Workflow</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">III. Installation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../III.%20Installation/">Index</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">IV. Internal Design</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../IV.%20Internal%20Design/">Index</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Cerberus Sandbox</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>II. Development Procedures &raquo;</li>
        
      
    
    <li>2. Coding Standards</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/cerberus-sandbox/cerberus-sandbox.github.io/edit/master/docs/II. Development Procedures/2. Coding Standards.md"> Edit on cerberus-sandbox/cerberus-sandbox.github.io</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="coding-standards">Coding Standards</h2>
<p>This page is a list of standards that every scripts or programs in the cerberus-sandbox project must match.
If a program file does not follow thoses standards, upgrade them.</p>
<p>The goal is to bind every file of the project in a global scope, with the same high-level sythax. Navigating through the source code of the sandbox should be as user-friendly as possible, and the code and it's comments must speak for themselves.</p>
<p>It will help to integrate new functionality latter, keep everything clear, and eventually to maintain the codebase.</p>
<ul>
<li>
<p>Whenever a new script file is added to the project, it name must be the concatenation of what it is doing, keeping only the keywords. Instead of adding spaces, the first letter of each word will be in the uppercase format.
i.e: <code>StaticEngine.py</code>, <code>Disassembler.py</code>, <code>PeParser.py</code> or <code>FileDriver.py</code>.</p>
</li>
<li>
<p>Python3 should be the only autorized version of Python.</p>
</li>
<li>
<p>The first line of the script must indicate the encoding. By default, we'll use the UTF-8 encoding.</p>
</li>
</ul>
<pre><code class="language-python"> # coding: utf-8
</code></pre>
<ul>
<li>After the encoding, the next 3 lines should be used as a header to indicate the date of creation of the original file, the name of the author and a quick description of what the script is doing, or how to use it.</li>
</ul>
<pre><code class="language-python"> # 17/10/2020
 # HomardBoy
 # Low-level linear disassembler based on the Capstone library.
</code></pre>
<ul>
<li>Everything related to the python code should match the PEP-8 standards. To quickly check if a file is following the PEP-8 rules, you can use the pep8 tool:</li>
</ul>
<pre><code class="language-bash"> $ pip install pep8
 $ pep8 --first Disassembler.py
   Disassembler.py:222:34: W602 deprecated form of raising exception
   Disassembler.py:347:31: E211 whitespace before '('
</code></pre>
<p>Apart from the PEP-8 standard, you are encouraged to follow those additional rules:</p>
<ul>
<li>For performance, try to only import the Python's modules that you need, not the full library (<em>never</em> import the full library as <code>from lib import *</code>):</li>
</ul>
<pre><code class="language-python"> from lib import function
</code></pre>
<ul>
<li>Logs messages should use the Python <code>logger</code> objects. Don't print anything, log it. If your script or function support this usecase, try to pass the log level as an argument. Always keep your logs message as clear and minimal as possible.</li>
</ul>
<pre><code class="language-python"> import logging
 logging.basicConfig(format='%(levelname)s:%(message)s', level=logging.DEBUG)
 logging.debug('I am here for information only')
 logging.info('I am used to track how the program is going')
 logging.warning('Something might be broken')
 logging.error('Something is broken')
 logging.critical('Everything is broken')
</code></pre>
<ul>
<li>For performance reason, string formating should not be done using concatenation of variables and strings, nor by using format strings. Instead, use f-strings. They are faster to load, and very clear to read:</li>
</ul>
<pre><code class="language-python"> name = &quot;cerberus&quot;
 f&quot;The best sandbox is {name}-sandbox.&quot;
</code></pre>
<ul>
<li>Functions name should describe the global job of the function, with the same construct as the filename (using uppercase letter for each new word, and without any spaces). The first letter should be lowercase:</li>
</ul>
<pre><code class="language-python"> def addWinApiArguments():
     return
</code></pre>
<ul>
<li>Variables names must be as clear as possible, without uppercase, using underscore as a "space" character:</li>
</ul>
<pre><code class="language-python"> user_input = input(&quot;How are you ?&quot;)
</code></pre>
<ul>
<li>
<p>Global variables should be avoided as much as possible.</p>
</li>
<li>
<p>Comment your functions using the <code>Sphinx</code> standard.</p>
</li>
</ul>
<pre><code class="language-python"> def disassemble(entry_point, end_point, f):
     '''Returns the assembly code for a bunch of given bytes
     :param entry_point: start address of the function to disassemble. Only use for RVA.
     :type entry_point: integer
     :param end_point: address of the last instruction of the function. Only used to check if the result is still inside the CODE section.
     :type end_point: integer
     :param f: byte representation of the function to disassemble.
     :type f: bytes-array     
     :returns: Disassembly version of the target function.
     :rtype: list of strings
     '''
</code></pre>
<ul>
<li>
<p>Try to use multi-thread as much as you can when your script is doing two differents things at the same time. Each part of the sandbox should be design to be as less time-consuming as possible since the sandbox cannot affort to make the end user hang for too long. Performance is key.</p>
</li>
<li>
<p>Use OOP when needed, but don't use it for anything when it doesn't make sense. If what you are writting is going to be used in multiple instances with different values (exception given for functions with kilometers longs list of arguments), then go for OOP. If not, build simple functions or more linear code.</p>
</li>
<li>
<p>Use Python3 <a href="https://docs.python.org/3/library/functions.html">build-in functions</a> when you can. It will improve the execution time of your scripts.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../3.%20Git%20Workflow/" class="btn btn-neutral float-right" title="3. Git Workflow">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../1.%20Updating%20the%20docs/" class="btn btn-neutral" title="1. Updating the docs"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../1.%20Updating%20the%20docs/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../3.%20Git%20Workflow/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
